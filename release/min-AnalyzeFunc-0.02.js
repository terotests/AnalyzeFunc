(function(){var e={},n=function(){!function(e){var n;e.__traitInit&&!e.hasOwnProperty("__traitInit")&&(e.__traitInit=e.__traitInit.slice()),e.__traitInit||(e.__traitInit=[]),e.__traitInit.push(function(){}),e.localGuid=function(){return n||(n=0),n++},e.primaWalk=function(e,n,t,a,i){if(!e)return a;if(i||(i=1),a||(a={}),e.__didVisit==i)return a;if(e.__didVisit=i,"Literal"==e.type)return a;if("Identifier"==e.type)return a.identifiers||(a.identifiers={}),a.identifiers[e.name]={node:e},a;var r=this;if("ReturnStatement"==e.type&&(a.returnStatements||(a.returnStatements=[]),a.returnStatements.push({node:e.argument})),"FunctionDeclaration"==e.type)if(e.id){a.declaredFns||(a.declaredFns={}),a.declaredFns[e.id.name]={node:e,name:e.id.name};var o={type:"function",name:e.id.name};a.subCtxList||(a.subCtxList=[]),a.subCtxList.push(o),o._parentCtx=a,a=o}else{a.declaredFns||(a.declaredFns={});{"$$anonymous_"+r.localGuid()}a.declaredFns["$$anonymous_"+r.localGuid()]={node:e,anonymous:!0};var o={type:"function"};a.subCtxList||(a.subCtxList=[]),a.subCtxList.push(o),o._parentCtx=a,a=o}if("AssignmentExpression"==e.type&&(a.assigments||(a.assigments=[]),a.assigments.push({left:e.left,right:e.right}),r.primaWalk(e.left,n,t,a,i),r.primaWalk(e.right,n,t,a,i)),"MemberExpression"==e.type){a.objPropAccess||(a.objPropAccess=[]);var l={node:e};e.object&&("ThisExpression"==e.object.type&&(l.objName="this"),"Identifier"==e.object.type&&(l.objName=e.object.name)),e.property&&("Literal"==e.property.type&&(l.propName=e.property.value),"Identifier"==e.property.type&&(e.computed?l.propVarName=e.property.name:l.propName=e.property.name)),a.objPropAccess.push(l)}if("FunctionExpression"==e.type){a.declaredFns||(a.declaredFns={});{"$$anonymous_"+r.localGuid()}a.declaredFns["$$anonymous_"+r.localGuid()]={node:e,anonymous:!0};var o={type:"function"};a.subCtxList||(a.subCtxList=[]),a.subCtxList.push(o),o._parentCtx=a,a=o}if("VariableDeclaration"==e.type&&(a.varDefs||(a.varDefs={}),console.log("Checking variable declaration"),e.declarations.forEach(function(e){var o=e.id.name;a.varDefs[o]&&console.log("*** WARNING!!! Double delaration of "+o+" ***");var l=e.init;if("ThisExpression"==l.type&&(a.varDefs[o]={node:e,type:"this"}),"MemberExpression"==l.type&&(a.varDefs[o]={node:e,type:"ObjectProperty"},e.init&&r.primaWalk(e.init,n,t,a,i)),"ObjectExpression"==l.type){var s={node:e,type:"Object",properties:{}};l.properties.forEach(function(e){e.computed||(s.properties[e.key.name]={node:e.value},e.value&&r.primaWalk(e.value,n,t,a,i))}),a.varDefs[o]=s}if("NewExpression"==l.type&&l.callee&&l.callee.name&&(a.varDefs[o]={node:e,type:"class",className:l.callee.name}),"Literal"==l.type&&(a.varDefs[o]={node:e,type:"literal",value:l.value}),"CallExpression"==l.type&&(a.varDefs[o]={node:e,type:"call",init:l},e.init&&r.primaWalk(e.init,n,t,a,i)),"FunctionExpression"==l.type){a.varDefs[o]={node:e,type:"function",init:l},a.declaredFns||(a.declaredFns={}),a.declaredFns[o]={node:e,name:o};var p={type:"function",name:o};a.subCtxList||(a.subCtxList=[]),a.subCtxList.push(p),p._parentCtx=a,r.primaWalk(l.body,n,t,p,i)}})),"BinaryExpression"==e.type&&(r.primaWalk(e.left,n,t,a,i),r.primaWalk(e.right,n,t,a,i)),"IfStatement"==e.type&&(r.primaWalk(e.test,n,t,a,i),r.primaWalk(e.consequent,n,t,a,i)),"CallExpression"==e.type&&e.callee){if(e.callee&&e.callee.object&&e.callee.property){var s=e.callee.object;a.objCalls||(a.objCalls={});var p;p="ThisExpression"==s.type?"this":e.callee.object.name,a.objCalls[p]||(a.objCalls[p]=[]),a.objCalls[p].push(e.callee.computed?"Literal"==e.callee.property.type?{node:e,varName:p,fnName:e.callee.property.value}:{node:e,varName:p,fnVarName:e.callee.property.name}:"Literal"==e.callee.property.type?{node:e,varName:p,fnName:e.callee.property.value}:{node:e,varName:p,fnName:e.callee.property.name})}e.callee&&e.callee.name&&!e.callee.object&&(a.fnCalls||(a.fnCalls={}),a.fnCalls[e.callee.name]={node:e,name:e.callee.name,type:e.callee.type}),e.arguments&&e.arguments.forEach(function(e){r.primaWalk(e,n,t,a,i)}),r.primaWalk(e.callee,n,t,a,i)}return e.expression?(r.primaWalk(e.expression,n,t,a,i),a):e.program?(r.primaWalk(e.program,n,t,a,i),a):e.body&&e.body instanceof Array?(e.body.forEach(function(e){r.primaWalk(e,n,t,a,i)}),a):(e.body&&(n(e.body)&&t(e.body),r.primaWalk(e.body,n,t,a,i)),e.node&&(n(e.node)&&t(e.node),r.primaWalk(e.node,n,t,a,i)),e._paths&&(n(e)&&t(e),e._paths.forEach(function(e){r.primaWalk(e,n,t,a,i)})),a)}}(this)},t=function(e,n,a,i,r,o,l,s){var p,c=this;if(!(c instanceof t))return new t(e,n,a,i,r,o,l,s);var u=[e,n,a,i,r,o,l,s];if(c.__factoryClass)if(c.__factoryClass.forEach(function(e){p=e.apply(c,u)}),"function"==typeof p){if(p._classInfo.name!=t._classInfo.name)return new p(e,n,a,i,r,o,l,s)}else if(p)return p;c.__traitInit?c.__traitInit.forEach(function(e){e.apply(c,u)}):"function"==typeof c.init&&c.init.apply(c,u)};t._classInfo={name:"AnalyzeFunc"},t.prototype=new n,function(){"undefined"!=typeof define&&null!==define&&null!=define.amd?(e.AnalyzeFunc=t,this.AnalyzeFunc=t):"undefined"!=typeof module&&null!==module&&null!=module.exports?module.exports.AnalyzeFunc=t:this.AnalyzeFunc=t}.call(new Function("return this")()),"undefined"!=typeof define&&null!==define&&null!=define.amd&&define(e)}).call(new Function("return this")());